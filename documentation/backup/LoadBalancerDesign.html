<h1>Design of our Load Balancer Abstraction</h1>

<h3>Design  Goals</h3>

<ul><li>Easy integration with jclouds ComputeService</li>
<li>Support for members not defined in !ComputeService</li>
<li>Look/Feel like other jclouds java/clojure abstractions</li>
</ul><h2>Prior Design</h2>

<ul><li><a href="https://github.com/jclouds/jclouds/blob/1.0-beta-9/loadbalancer/src/main/java/org/jclouds/loadbalancer/domain/LoadBalancerMetadata.java">model</a></li>
<li><a href="https://github.com/jclouds/jclouds/blob/1.0-beta-9/loadbalancer/src/main/java/org/jclouds/loadbalancer/LoadBalancerService.java">api</a></li>
<li><a href="https://github.com/jclouds/jclouds/blob/1.0-beta-9/loadbalancer/src/test/java/org/jclouds/loadbalancer/BaseLoadBalancerServiceLiveTest.java">live test</a></li>
</ul><h3>APIs to cover with our abstraction</h3>

<h2>ELB</h2>

<p>Elastic Load Balancers in Amazon Web Services.</p>

<h3>Documentation</h3>

<ul><li><a href="http://docs.amazonwebservices.com/ElasticLoadBalancing/latest/APIReference/">API Documentation</a></li>
</ul><h3>jclouds code</h3>

<ul><li><a href="https://github.com/jclouds/jclouds/blob/master/sandbox-apis/elb/src/main/java/org/jclouds/elb/domain/LoadBalancer.java">model</a></li>
<li><a href="https://github.com/jclouds/jclouds/blob/master/sandbox-apis/elb/src/main/java/org/jclouds/elb/ELBClient.java">JClouds API</a></li>
<li><a href="https://github.com/jclouds/jclouds/blob/master/sandbox-apis/elb/src/test/java/org/jclouds/elb/ELBClientLiveTest.java">live test</a></li>
</ul><h3>Notes</h3>

<h2>Terremark vCloudExpress</h2>

<h3>Documentation</h3>

<ul><li><a href="https://community.vcloudexpress.terremark.com/en-us/product_docs/m/vcefiles/2342/download.aspx">API Documentation</a></li>
</ul><h3>jclouds code</h3>

<ul><li>model <a href="https://github.com/jclouds/jclouds/blob/master/common/trmk/src/main/java/org/jclouds/vcloud/terremark/domain/InternetService.java">InternetService</a>
<a href="https://github.com/jclouds/jclouds/blob/master/common/trmk/src/main/java/org/jclouds/vcloud/terremark/domain/Node.java">Node</a></li>
<li><a href="https://github.com/jclouds/jclouds/blob/master/common/trmk/src/main/java/org/jclouds/vcloud/terremark/TerremarkVCloudClient.java">API</a></li>
<li><a href="https://github.com/jclouds/jclouds/blob/master/common/trmk/src/test/java/org/jclouds/vcloud/terremark/TerremarkClientLiveTest.java">live test</a></li>
</ul><h3>Notes</h3>

<h2>Terremark Enterprise Cloud</h2>

<p>Like their express offering, but including additional services such as
trusted network groups, http monitors, back services, etc.</p>

<h3>Documentation</h3>

<ul><li><a href="http://support.theenterprisecloud.com/kb/default.asp?id=922&amp;Lang=1&amp;SID=">API Documentation</a></li>
</ul><h3>jclouds code</h3>

<ul><li>model <a href="https://github.com/jclouds/jclouds/blob/master/common/trmk/src/main/java/org/jclouds/vcloud/terremark/domain/InternetService.java">IntenetService</a> <a href="https://github.com/jclouds/jclouds/blob/master/common/trmk/src/main/java/org/jclouds/vcloud/terremark/domain/Node.java">Node</a></li>
<li><a href="https://github.com/jclouds/jclouds/blob/master/common/trmk/src/main/java/org/jclouds/vcloud/terremark/TerremarkVCloudClient.java">API</a></li>
<li><a href="https://github.com/jclouds/jclouds/blob/master/common/trmk/src/test/java/org/jclouds/vcloud/terremark/TerremarkClientLiveTest.java">Live test</a></li>
</ul><h3>Notes</h3>

<p>jclouds model is not up to date, supporting the eCloud features</p>

<h2>GoGrid</h2>

<h3>Documentation</h3>

<ul><li><a href="http://docs.amazonwebservices.com/ElasticLoadBalancing/latest/APIReference/">API Documentation</a></li>
</ul><h3>jclouds code</h3>

<ul><li><a href="https://github.com/jclouds/jclouds/blob/master/providers/gogrid/src/main/java/org/jclouds/gogrid/domain/LoadBalancer.java">model</a></li>
<li><a href="https://github.com/jclouds/jclouds/blob/master/providers/gogrid/src/main/java/org/jclouds/gogrid/services/GridLoadBalancerClient.java">API</a></li>
<li><a href="https://github.com/jclouds/jclouds/blob/master/providers/gogrid/src/test/java/org/jclouds/gogrid/GoGridLiveTestDisabled.java">test</a></li>
</ul><h3>Notes</h3>

<h2>CloudStack</h2>

<p>Currently supported as a standalone product and as a service providers including <a href="http://ninefold.com/">Ninefold</a></p>

<h3>Documentation</h3>

<ul><li><a href="http://download.cloud.com/releases/2.2.0/api/TOC_User.html">API Documentaiton</a></li>
</ul><h3>jclouds code</h3>

<ul><li><a href="https://github.com/jclouds/jclouds/blob/master/sandbox-apis/cloudstack/src/main/java/org/jclouds/cloudstack/domain/LoadBalancerRule.java">jclouds model</a></li>
<li><a href="https://github.com/jclouds/jclouds/blob/master/sandbox-apis/cloudstack/src/main/java/org/jclouds/cloudstack/features/LoadBalancerClient.java">jclouds api</a></li>
<li><a href="https://github.com/jclouds/jclouds/blob/master/sandbox-apis/cloudstack/src/test/java/org/jclouds/cloudstack/features/LoadBalancerClientLiveTest.java">live test</a></li>
</ul><h3>Notes</h3>

<h2>Rackspace CloudLoadBalancers</h2>

<p>Slight <a href="http://wiki.openstack.org/LoadBalancing?action=AttachFile&amp;do=view&amp;target=Difference+between+RackSpace+Cloud+LoadBalancers+API+and+OpenStack+API+Proposal.pdf">deviation</a>
from OpenStack Load Balancing api.</p>

<p>Differences between the existing Rackspace vs OpenStack version</p>

<ul><li>single vip/lb</li>
<li>want to reference existing vips by address, not id</li>
<li>removed draining status/condition</li>
<li>separated out weight as independent from round robin</li>
<li>disallow updating of protocol/port</li>
<li>has usage report function, but only bytes in/out</li>
<li>removed access control as an explicit function (defer to global services)</li>
<li>only support LEAST_CONNECTIONS and ROUND_ROBIN by default</li>
</ul><h3>Documentation</h3>

<ul><li><a href="http://docs.rackspacecloud.com/loadbalancers/api/v1.0/clb-devguide/content/ch04s01.html">API Documentation</a></li>
</ul><h3>jclouds code</h3>

<ul><li><a href="https://github.com/jclouds/jclouds/blob/master/providers/cloudloadbalancers-us/src/main/java/org/jclouds/cloudloadbalancers/domain/LoadBalancer.java">jclouds model</a></li>
<li><a href="https://github.com/jclouds/jclouds/blob/master/providers/cloudloadbalancers-us/src/main/java/org/jclouds/cloudloadbalancers/features/LoadBalancerClient.java">jclouds api</a></li>
<li><a href="https://github.com/jclouds/jclouds/blob/master/providers/cloudloadbalancers-us/src/test/java/org/jclouds/cloudloadbalancers/features/LoadBalancerClientLiveTest.java">live test</a></li>
</ul><h3>Notes</h3>

<h2>SoftLayer</h2>

<p>SoftLayer includes the following load balancers.  We will need to decide which offerings make sense to include in this abstraction.</p>

<ul><li>Geo Load Balancer - a DNS-based system that uses rules and health checks</li>
<li>datacenter load balancer - hardware device to do ip and port load balancing for use with a single datacenter</li>
<li>Netscaler VPX - full access to a Netscaler devicewhich can be a layer 7 load balancer</li>
</ul><h3>Documentation</h3>

<ul><li><a href="http://knowledgelayer.softlayer.com/categories/Load+Balancing/">overview</a></li>
<li><a href="http://sldn.softlayer.com/wiki/index.php/SoftLayer_Network_LoadBalancer_Service_%28type%29">API Documentation</a></li>
</ul><h3>jclouds code</h3>

<p>Load Balancer code hasn't yet been written
  * <a href="https://github.com/jclouds/jclouds/blob/master/sandbox-providers">jclouds provider</a></p>

<h3>Notes</h3>

<h2>Discussions</h2>

<ul><li><a href="http://groups.google.com/group/jclouds-dev/browse_thread/thread/481fe09da50ba241">loadbalancer design now -&gt; code sprint early next week</a></li>
</ul><p><code>Last Updated: Sat Jun  4 23:15:34 2011</code></p>